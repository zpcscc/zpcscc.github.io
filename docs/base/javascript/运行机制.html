<!doctype html>
<html lang="zh-CN" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-base/javascript/运行机制/index" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.0">
<title data-rh="true">运行机制 | DXSIX</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://zpcscc.top/docs/base/javascript/运行机制"><meta data-rh="true" property="og:locale" content="zh_CN"><meta data-rh="true" name="docusaurus_locale" content="zh-CN"><meta data-rh="true" name="docsearch:language" content="zh-CN"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="运行机制 | DXSIX"><meta data-rh="true" name="description" content="​ 想要了解一门语言，最好的办法就是了解它的运行机制。掌握了运行机制，能够让我们在开发中少走许多弯路，写出高质量的代码。本文简单介绍什么是 JavaScript 的运行机制，给刚刚接触 JavaScript 的小白一个初步的了解，为将来打好基础。"><meta data-rh="true" property="og:description" content="​ 想要了解一门语言，最好的办法就是了解它的运行机制。掌握了运行机制，能够让我们在开发中少走许多弯路，写出高质量的代码。本文简单介绍什么是 JavaScript 的运行机制，给刚刚接触 JavaScript 的小白一个初步的了解，为将来打好基础。"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://zpcscc.top/docs/base/javascript/运行机制"><link data-rh="true" rel="alternate" href="https://zpcscc.top/docs/base/javascript/运行机制" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://zpcscc.top/docs/base/javascript/运行机制" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.98b3ec9d.css">
<script src="/assets/js/runtime~main.94ba10a4.js" defer="defer"></script>
<script src="/assets/js/main.ddbbffdb.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_g8Js" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Logo" class="themedComponent_yANb themedComponent--light_DMz0"><img src="/img/logo.png" alt="Logo" class="themedComponent_yANb themedComponent--dark_kxbG"></div><b class="navbar__title text--truncate">DXSIX</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/base/javascript/基础介绍">基础</a><a class="navbar__item navbar__link" href="/docs/note/Git/基础介绍">笔记</a><a class="navbar__item navbar__link" href="/docs/package/package包版本前符号含义">项目构建</a><a class="navbar__item navbar__link" href="/docs/other/macOS/忽略系统更新">其他</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/zpcscc/zpcscc.github.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_f3UQ"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_b2MY colorModeToggle_liDK"><button class="clean-btn toggleButton__iEm toggleButtonDisabled_SIQF" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_PUZ7"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_urva"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_ZMY6"><div class="navbar__search searchBarContainer_F2Hw"><input placeholder="搜索" aria-label="Search" class="navbar__search-input"><div class="loadingRing_BAjH searchBarLoadingRing_PEZo"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_Al17"><div class="docsWrapper_NaRA"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_WsC9" type="button"></button><div class="docRoot_KmqT"><aside class="theme-doc-sidebar-container docSidebarContainer_jfXr"><div class="sidebarViewport_nUbD"><div class="sidebar_DaTZ"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_GJoy"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/css">CSS</a><button aria-label="展开侧边栏分类 &#x27;CSS&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/html">html</a><button aria-label="展开侧边栏分类 &#x27;html&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/javascript">JavaScript</a><button aria-label="折叠侧边栏分类 &#x27;JavaScript&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/base/javascript/arguments">arguments</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/base/javascript/js的异步">js的异步</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/base/javascript/三大结构">三大结构</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/base/javascript/函数">函数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/base/javascript/变量">变量</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/base/javascript/基础介绍">基础介绍</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/base/javascript/手写bind函数">手写bind函数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/base/javascript/手写call函数">手写call函数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/base/javascript/手写promise.all函数">手写call函数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/base/javascript/数据类型">数据类型</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/base/javascript/数组">数组</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/base/javascript/数组方法详解">数组方法详解</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/base/javascript/浏览器兼容">浏览器兼容</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/base/javascript/转义字符还原">转义字符还原</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/base/javascript/运算符">运算符</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/base/javascript/运行机制">运行机制</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/base/typescript/判断对象是否有某属性">typescript</a></div></li></ul></nav><button type="button" title="收起侧边栏" aria-label="收起侧边栏" class="button button--secondary button--outline collapseSidebarButton_XwIZ"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_bEpF"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_ISsh"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_dTIO"><div class="docItemContainer_hijw"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_PNNQ" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YHK8"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/javascript"><span itemprop="name">JavaScript</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">运行机制</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_XrmJ theme-doc-toc-mobile tocMobile_UCRH"><button type="button" class="clean-btn tocCollapsibleButton_jKVd">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>浅谈 JavaScript 运行机制</h1>
<p>​ 想要了解一门语言，最好的办法就是了解它的运行机制。掌握了运行机制，能够让我们在开发中少走许多弯路，写出高质量的代码。本文简单介绍什么是 JavaScript 的运行机制，给刚刚接触 JavaScript 的小白一个初步的了解，为将来打好基础。</p>
<h2 class="anchor anchorWithStickyNavbar_q3XT" id="一javascript-代码运行分两个阶段">一、JavaScript 代码运行分两个阶段：<a href="#一javascript-代码运行分两个阶段" class="hash-link" aria-label="一、JavaScript 代码运行分两个阶段：的直接链接" title="一、JavaScript 代码运行分两个阶段：的直接链接">​</a></h2>
<p>1、<strong>预解析</strong>---把所有的函数定义提前，所有的变量声明提前，变量的赋值不提前</p>
<p>2、<strong>执行</strong>---从上到下执行（按照 js 运行机制）</p>
<h2 class="anchor anchorWithStickyNavbar_q3XT" id="二javascript-运行机制的特点">二、JavaScript 运行机制的特点<a href="#二javascript-运行机制的特点" class="hash-link" aria-label="二、JavaScript 运行机制的特点的直接链接" title="二、JavaScript 运行机制的特点的直接链接">​</a></h2>
<p>1.JavaScript 是一门<strong>单线程语言</strong></p>
<p>2.<strong>事件循环</strong>（Event Loop）</p>
<h2 class="anchor anchorWithStickyNavbar_q3XT" id="三单线程">三、单线程<a href="#三单线程" class="hash-link" aria-label="三、单线程的直接链接" title="三、单线程的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_q3XT" id="1什么是单线程">1.什么是单线程<a href="#1什么是单线程" class="hash-link" aria-label="1.什么是单线程的直接链接" title="1.什么是单线程的直接链接">  ​</a></h3>
<p>JavaScript 的一个语言特性（也是这门语言的核心）就是单线程，也就是说，同一个时间只能做一件事，当有多个任务时，只能按照顺序上一个任务完成了再执行下一个。上一个任务未完成则会一直等待。
JavaScript 所有的多线程都是模拟出来的，本质还是单线程</p>
<h3 class="anchor anchorWithStickyNavbar_q3XT" id="2为什么-javascript-是单线程">2.为什么 JavaScript 是单线程<a href="#2为什么-javascript-是单线程" class="hash-link" aria-label="2.为什么 JavaScript 是单线程的直接链接" title="2.为什么 JavaScript 是单线程的直接链接">​</a></h3>
<p>JavaScript 的单线程而不是多线程，主要与它的用途有关。作为浏览器脚本语言，JavaScript 的主要用途是与用户互动，以及操作 DOM（文档对象模型）和 BOM（浏览器对象模型）。而多线程需要共享资源，多线程编程经常面临锁、状态同步等问题。这决定了 JavaScript 只能是单线程。比如，假定 JavaScript 同时有两个线程，一个线程在某个 DOM 节点上添加内容，另一个线程删除了这个节点，这时浏览器应该以哪个线程为准？会带来许多问题
所以，为了避免复杂性，从一诞生，JavaScript 就是单线程，这已经成了这门语言的核心特征，将来也不会改变。</p>
<h3 class="anchor anchorWithStickyNavbar_q3XT" id="3单线程带来的问题及解决方法">3.单线程带来的问题及解决方法<a href="#3单线程带来的问题及解决方法" class="hash-link" aria-label="3.单线程带来的问题及解决方法的直接链接" title="3.单线程带来的问题及解决方法的直接链接">​</a></h3>
<p>单线程意味着同一时间只能进行一件事情,前面的事情结束才能执行后面的事件.当碰到需要时间的 IO 事件的时候问题就来了,必须等到这些结束后才往下进行但这时 CPU 是闲着的.这样浪费了很多计算机的性能
JavaScript   语言的设计者意识到，这时主线程完全可以不管 IO 设备，挂起处于等待中的任务，先运行排在后面的任务。等到 IO 设备返回了结果，再回过头，挂起的任务继续执行下去。将所有任务分成两种，一种是同步任务（synchronous），另一种是异步任务（asynchronous）
为了提高 CPU 的利用率，HTML5 提出 Web Worker 标准，允许 JavaScript 脚本创建多个线程，但是子线程完全受主线程控制，且不得操作 DOM。所以这个标准并没有改变 JavaScript 单线程的本质</p>
<h2 class="anchor anchorWithStickyNavbar_q3XT" id="四同步和异步">四、同步和异步<a href="#四同步和异步" class="hash-link" aria-label="四、同步和异步的直接链接" title="四、同步和异步的直接链接">​</a></h2>
<div class="codeBlockContainer_gea1 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_RkIO"><pre tabindex="0" class="prism-code language-text codeBlock_iLk5 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_S4ey"><span class="token-line" style="color:#bfc7d5"><span class="token plain">同步：</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">	在主线程上排队执行的任务，只有前一个任务执行完毕，才能执行后一个任务；</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">异步：</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">	不进入主线程、而进入&quot;任务队列&quot;（task queue）的任务，只有&quot;任务队列&quot;通知主线程，某个异步任务可以执行了，该任务才会进入主线程执行</span><br></span></code></pre><div class="buttonGroup_pqp6"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_AtI1" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_ObWx"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_MrQw"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>例题：</strong></p>
<div class="language-javascript codeBlockContainer_gea1 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_RkIO"><pre tabindex="0" class="prism-code language-javascript codeBlock_iLk5 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_S4ey"><span class="token-line" style="color:#bfc7d5"><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">setTimeout</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">function</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//1 3 2 ---不是按照123的先后顺序输出。因为延时器触发了异步</span><br></span></code></pre><div class="buttonGroup_pqp6"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_AtI1" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_ObWx"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_MrQw"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-javascript codeBlockContainer_gea1 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_RkIO"><pre tabindex="0" class="prism-code language-javascript codeBlock_iLk5 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_S4ey"><span class="token-line" style="color:#bfc7d5"><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;A&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword control-flow" style="font-style:italic">while</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;B&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//A ---遇到死循环，程序卡在死循环。后面的语句执不了</span><br></span></code></pre><div class="buttonGroup_pqp6"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_AtI1" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_ObWx"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_MrQw"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-javascript codeBlockContainer_gea1 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_RkIO"><pre tabindex="0" class="prism-code language-javascript codeBlock_iLk5 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_S4ey"><span class="token-line" style="color:#bfc7d5"><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;A&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">setTimeout</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">function</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;B&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword control-flow" style="font-style:italic">while</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//A----只输出A，延时器异步等主线程结束后执行，主线程遇到死循环，后面的不再执行</span><br></span></code></pre><div class="buttonGroup_pqp6"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_AtI1" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_ObWx"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_MrQw"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_q3XT" id="五理解-event-loop事件循环">五、理解 Event Loop （事件循环）<a href="#五理解-event-loop事件循环" class="hash-link" aria-label="五、理解 Event Loop（事件循环）的直接链接" title="五、理解 Event Loop（事件循环）的直接链接">​</a></h2>
<p><strong>异步执行</strong>的<strong>运行机制</strong>如下：理解<strong>任务队列</strong>（消息队列）</p>
<p>（1）所有同步任务都在主线程上执行，形成一个<strong>执行栈</strong>（execution context stack）</p>
<p>（2）主线程之外，还存在一个&quot;<strong>任务队列</strong>&quot;（task queue）。只要异步任务有了运行结果，就在&quot;<strong>任务队列</strong>&quot;之中放置一个事件</p>
<p>（3）一旦&quot;<strong>执行栈</strong>&quot;中的所有同步任务执行完毕，系统就会读取&quot;<strong>任务队列</strong>&quot;，看看里面有哪些事件。那些对应的异步任务，于是结束等待状态，进入<strong>执行栈</strong>，开始执行</p>
<p>（4）主线程不断重复上面的第三步</p>
<p>​ <strong>JavaScript 的运行机制</strong>：主线程从&quot;<strong>任务队列</strong>&quot;中读取事件，这个过程是循环不断的，所以整个的这种运行机制又称为<strong>Event Loop（事件循环）</strong>。只要主线程空了，就会去读取&quot;<strong>任务队列</strong>&quot;。这个过程会循环反复。以下这张图可以很好说明这点。</p>
<p><img loading="lazy" alt="运行机制" src="/assets/images/运行机制-86d0f7239f5c2c7084dc9432c807efcb.png" width="820" height="454" class="img_VmaD"></p>
<h2 class="anchor anchorWithStickyNavbar_q3XT" id="六哪些语句会放入异步任务队列">六、哪些语句会放入异步任务队列<a href="#六哪些语句会放入异步任务队列" class="hash-link" aria-label="六、哪些语句会放入异步任务队列的直接链接" title="六、哪些语句会放入异步任务队列的直接链接">​</a></h2>
<p><strong>一般来说，有以下四种会放入异步任 务队列：</strong></p>
<ol>
<li>
<p>setTimeout（延时器）和 setInterval（定时器）</p>
</li>
<li>
<p>DOM 事件</p>
</li>
<li>
<p>ES6 中的 Promise</p>
</li>
<li>
<p>Ajax 异步请求</p>
</li>
</ol></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/base/javascript/运算符"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">运算符</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/base/typescript/判断对象是否有某属性"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">判断对象是否有某属性</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents__Jbi thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#一javascript-代码运行分两个阶段" class="table-of-contents__link toc-highlight">一、JavaScript 代码运行分两个阶段：</a></li><li><a href="#二javascript-运行机制的特点" class="table-of-contents__link toc-highlight">二、JavaScript 运行机制的特点</a></li><li><a href="#三单线程" class="table-of-contents__link toc-highlight">三、单线程</a><ul><li><a href="#1什么是单线程" class="table-of-contents__link toc-highlight">1.什么是单线程</a></li><li><a href="#2为什么-javascript-是单线程" class="table-of-contents__link toc-highlight">2.为什么 JavaScript 是单线程</a></li><li><a href="#3单线程带来的问题及解决方法" class="table-of-contents__link toc-highlight">3.单线程带来的问题及解决方法</a></li></ul></li><li><a href="#四同步和异步" class="table-of-contents__link toc-highlight">四、同步和异步</a></li><li><a href="#五理解-event-loop事件循环" class="table-of-contents__link toc-highlight">五、理解 Event Loop（事件循环）</a></li><li><a href="#六哪些语句会放入异步任务队 列" class="table-of-contents__link toc-highlight">六、哪些语句会放入异步任务队列</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">文档</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/note/intro">简介</a></li></ul></div><div class="col footer__col"><div class="footer__title">相关资源</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/zpcscc/components" target="_blank" rel="noopener noreferrer" class="footer__link-item">组件库<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_f3UQ"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/zpcscc/utils" target="_blank" rel="noopener noreferrer" class="footer__link-item">工具函数库<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_f3UQ"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/zpcscc/configs" target="_blank" rel="noopener noreferrer" class="footer__link-item">项目配置库<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_f3UQ"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">更多</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/zpcscc/zpcscc.github.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_f3UQ"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"> 2023 皖ICP备19022295号-1</div></div></div></footer></div>
</body>
</html>