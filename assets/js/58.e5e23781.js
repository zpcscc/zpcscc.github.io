(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{550:function(t,s,a){"use strict";a.r(s);var i=a(5),e=Object(i.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"git-二分法调试查找问题commit"}},[t._v("Git-二分法调试查找问题commit")]),t._v(" "),a("p",[a("code",[t._v("git bisect")]),t._v(" 命令用来查找哪一次代码提交引入了错误")]),t._v(" "),a("h2",{attrs:{id:"前言"}},[t._v("前言：")]),t._v(" "),a("p",[t._v("使用场景：当项目出现某个问题。但不知道是哪次commit导致此问题的出现。可以使用此命令 "),a("code",[t._v("git bisect")])]),t._v(" "),a("h3",{attrs:{id:"一、原理"}},[t._v("一、原理")]),t._v(" "),a("p",[t._v("原理为，将所有提交的commit记录一分为二。确定错误在前半部分还是后半部分。不断重复缩小范围，直到找到错误的某个commit；")]),t._v(" "),a("h3",{attrs:{id:"二、使用步骤"}},[t._v("二、使用步骤")]),t._v(" "),a("h4",{attrs:{id:"_1、确定查找范围"}},[t._v("1、确定查找范围")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 查看所有commit提交记录，确定查找范围。")]),t._v("\ngit log\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("h4",{attrs:{id:"_2、启动-git-bisect-命令"}},[t._v("2、启动 "),a("code",[t._v("git bisect")]),t._v(" 命令")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("git bisect start $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("最近的commit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("最远的commit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h4",{attrs:{id:"_3、开始排查"}},[t._v("3、开始排查")]),t._v(" "),a("p",[t._v("启动命令后，项目会切换到刚刚启动范围最中间的一次commit。")]),t._v(" "),a("p",[t._v("此时可以运行项目，查看问题是否存在")]),t._v(" "),a("p",[t._v("若当前commit没有问题则标记good")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("git bisect good\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("此命令表示当前commit正常。")]),t._v(" "),a("p",[t._v("标记完成后，项目会自动跳转到后半范围的中点commit")]),t._v(" "),a("p",[t._v("直到某次commit中，出现了问题。此时标记bad")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("git bisect bad\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("此命令表示当前commit出现了问题。")]),t._v(" "),a("p",[t._v("标记完成后，项目会自动跳转到前半范围的中点commit")]),t._v(" "),a("p",[t._v("通过此二分法，不断缩小范围。之后不断重复此过程。")]),t._v(" "),a("p",[t._v("直到某次标记后，git给出如下提示")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("某次commit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" is the first bad commit\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("这是我们就找到了问题第一次出现的某个commit。记录下本次commit。")]),t._v(" "),a("p",[t._v("查看commit内容，确认问题原因。")]),t._v(" "),a("h4",{attrs:{id:"_4、退出-git-bisect命令"}},[t._v("4、退出 "),a("code",[t._v("git bisect")]),t._v("命令")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("git bisect reset\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("退出命令后。项目会回到最开始启动命令前所在的位置。")]),t._v(" "),a("p",[t._v("此时就可以愉快的修复bug了。")])])}),[],!1,null,null,null);s.default=e.exports}}]);